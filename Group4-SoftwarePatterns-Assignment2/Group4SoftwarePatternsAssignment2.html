<html>
<head>
<title>Group 4 - Software Patterns - Assignment 2</title>
<link rel="stylesheet" type="text/css" href="gdocs-orig-style.css" />
</head>
<body class="c20">

<!-- Front page -->
<p class="c3 c14"><span></span></p>
<p class="c3 c14"><span></span></p>
<p class="c3 c14"><span></span></p>
<p class="c3 c14"><span></span></p>
<p class="c14 c5"><span class="c33">Mercurial</span></p>
<p class="c3 c14"><span class="c12"></span></p>
<p class="c3 c14"><span class="c12"></span></p>
<p class="c3"><span class="c13 c4 c1"></span></p>
<p class="c14 c5"><span class="c13 c4 c1">Software Patterns</span></p>
<p class="c14 c5"><span class="c13 c4 c1">Assignment 2</span></p>
<p class="c14 c5"><span class="c13 c4 c1">Group 4</span></p>
<p class="c14 c5"><span class="c4 c1 c13">Version 1</span></p>
<p class="c3"><span class="c13 c4 c1"></span></p>
<p class="c9 c5"><span class="c1">Divya Avalur</span></p>
<p class="c9 c5"><span class="c1">Assel Bekbatyrova</span></p>
<p class="c9 c5"><span class="c1">Eamon Nerbonne</span></p>
<p class="c9 c5"><span class="c1">Sunna Bj&ouml;rg Sigurj&oacute;nsd&oacute;ttir</span></p>
<p class="c9 c5"><span class="c1">Edy Suharto</span></p>

<!-- Table of contents page -->
<hr style="page-break-before:always;display:none;">
<p class="c3 c9"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>
<p class="c8 c5"><span class="c0"><a class="c6" href="#h.22p1ho8igge7">Revision history</a></span></p>
<p class="c5 c8"><span class="c0"><a class="c6" href="#h.y2a51wuxwu57">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Introduction</a></span></p>
<p class="c8 c5"><span class="c0"><a class="c6" href="#h.gnk96a6xebvr">2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	System context&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(5%)</a></span></p>
<p class="c19 c5"><span class="c0"><a class="c6" href="#h.iiz1il7msuhf">2.1 Mercurial&rsquo;s functionality</a></span></p>
<p class="c8 c5"><span class="c0"><a class="c6" href="#h.qjh2p25pcmtr">3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	Stakeholders and concerns (10%)</a></span></p>
<p class="c19 c5"><span class="c0"><a class="c6" href="#h.qqxhese4rr1e">3.1 Stakeholders and concerns</a></span></p>
<p class="c19 c5"><span class="c0"><a class="c6" href="#h.vl37tjltoc1">3.2 Key drivers</a></span></p>
<p class="c8 c5"><span class="c0"><a class="c6" href="#h.malaemb4pn9g">4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	Architecture&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(30%)</a></span></p>
<p class="c19 c5"><span class="c0"><a class="c6" href="#h.fen3coaqu5pf">4.1 Architectural views</a></span></p>
<p class="c5 c19"><span class="c0"><a class="c6" href="#h.lp6j3uwaomp5">4.2 Architectural patterns</a></span></p>
<p class="c18 c5"><span class="c0"><a class="c6" href="#h.jqknav8ruqdm">4.2.1 Peer-to-peer</a></span></p>
<p class="c18 c5"><span class="c0"><a class="c6" href="#h.lggbasn4wjzi">4.2.2 Shared repository</a></span></p>
<p class="c18 c5"><span class="c0"><a class="c6" href="#h.c65rnjokzp4j">4.2.3 Pipes and filters</a></span></p>
<p class="c18 c5"><span class="c0"><a class="c6" href="#h.cdcmefdxm46z">4.2.4 Client server</a></span></p>
<p class="c5 c18"><span class="c0"><a class="c6" href="#h.dtdyc3yxqcdh">4.2.5 Broker</a></span></p>
<p class="c19 c5"><span class="c0"><a class="c6" href="#h.efa1ocu57i4x">4.3 Decomposition, component responsibilities &amp; interfaces</a></span></p>
<p class="c8 c5"><span class="c0"><a class="c6" href="#h.vqpyxuxpouct">5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	Evaluation &amp; recommendations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(35%)</a></span></p>
<p><span></span></p><p class="c3"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>

<!-- Revision history page -->
<hr style="page-break-before:always;display:none;">
<p class="c3"><span class="c1"></span></p>
<h1 class="c5"><a name="h.22p1ho8igge7"></a><span>Revision history</span></h1>
<p class="c3"><span></span></p>
<table cellpadding="0" cellspacing="0" class="c25">
	<tbody>
		<tr>
			<td class="c22"><p class="c14 c11 c5"><span class="c4 c1">Date</span></p></td>
			<td class="c28"><p class="c14 c11 c5"><span class="c4 c1">Version</span></p></td>
			<td class="c16"><p class="c11 c5"><span class="c4 c1">Description</span></p></td>
		</tr>
		<tr>
			<td class="c22"><p class="c11 c5"><span class="c1">19/12/2011</span></p></td>
			<td class="c28"><p class="c14 c11 c5"><span class="c1">1</span></p></td>
			<td class="c16">
				<p class="c11 c5"><span class="c1">Assel: Stakeholder concerns, key drivers, patterns</span></p>
				<p class="c11 c5"><span class="c1">Divya: Introduction of the system and overview of contents</span></p>
				<p class="c11 c5"><span class="c1">Eamon: &nbsp;System context text, SR diagram</span></p>
				<p class="c5 c11"><span class="c1">Edy: System context diagram</span></p>
				<p class="c11 c5"><span class="c1">Sunna: Document creation, stakeholders and concerns, patterns</span></p>
			</td>
		</tr>
	</tbody>
</table>
<p class="c3"><span></span></p>
<p class="c3"><span></span></p>

<!-- Chapter 1 - Introduction -->
<hr style="page-break-before:always;display:none;">
<p class="c3"><span></span></p>
<h1 class="c5"><a name="h.y2a51wuxwu57"></a><span>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Introduction</span></h1>
<p class="c24 c5"><span class="c1">
	The document presents the pattern-based recovery and evaluation of the architecture of an open-source system, Mercurial. It is
	a distributed version control system. This document gives an overview of the patterns that represent the core of the Mercurial
	system. We use the IDAPO for identifying the architectural patterns in Open source software. We also discuss about the specific
	variants of the patterns which we chose. Furthermore we need to evaluate the found patterns using Pattern-Based Architectural
	Review method. the evaluation of the consequences of patterns is based on the system&rsquo;s quality attributes. </span>
</p>
<p class="c5 c24"><span class="c1">
	The structure of the document is as follows: </span>
</p>
<p class="c24 c5"><span class="c1">
	Chapter 2 describes the system context of Mercurial version control system. Chapter 3 deals with identifying the stakeholders
	and their concerns as well as the key drivers which should drive the development of the system. </span>
</p>
<p class="c24 c5"><span class="c1">
	Chapter 4 describes the various architectural views for the system and also the architectural patterns identified for the
	Mercurial system using IDAPO. It also discusses how the various patterns are related with each other and the impact of each
	pattern on the system architecture and also &nbsp;discusses about the variants used . It also includes the decomposition of
	the patterns, responsibilities of each component in the patterns and also about the interfaces.</span>
</p>
<p class="c24 c5"><span class="c1">
	Chapter 5 is mainly focused on the architectural evaluation of the Mercurial system using PBAR approach. It also shows how each
	quality attribute identified are addressed. &nbsp; </span>
</p>
<p class="c3"><span class="c1"></span></p><hr style="page-break-before:always;display:none;"><p class="c3"><span class="c1"></span></p>

<!-- Chapter 2 - System context -->
<h1 class="c5"><a name="h.gnk96a6xebvr"></a><span>2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	System context&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(5%)</span></h1>
<p class="c24 c5"><span class="c1">
	Mercurial </span><sup><a href="#cmnt1" name="cmnt_ref1">[a]</a></sup>
	<span class="c1">is a distributed revision control system. It aims to help developers manage changes (revisions) made to projects.
	&nbsp;Managing multiple versions of even a single document by hand is an error-prone, time-consuming task. &nbsp;Mercurial allows
	a team of developers to manage large numbers of documents with many versions. &nbsp;Although mercurial can maintain a version history
	for arbitrary files and directories, it is designed in particular to deal well with large numbers of complex text documents such as
	source code. &nbsp;There are several ways in which mercurial helps address the problems arising from collaborating on such code.</span>
</p>
<h2 class="c5"><a name="h.iiz1il7msuhf"></a><span>2.1 Mercurial&rsquo;s functionality</span></h2>
<p class="c5"><span class="c4 c1 c10">TODO:</span><span class="c1 c10">&nbsp;</span>
	<span class="c1 c10 c30">relevant to explain source control in more detail than this?</span>
</p>
<p class="c24 c5"><span class="c1">Firstly, Mercurial maintains a log:</span>
	<span class="c1">&nbsp;an annotated history of changes</span>
	<span class="c1">. &nbsp;In addition to keeping track of the documents themselves, mercurial allows developers to keep track of which
	lines were changed, the date the changes were made, the identity of the author, and, importantly, the motivation for these changes.
	&nbsp;This is achieved by splitting changes into cohesive chunks call </span><span class="c1">changesets. When a developer commits a
	changeset, he adds it to Mercurial&rsquo;s repository of changesets, and includes a commit message describing what was changed and why.
	&nbsp;Changesets with commit messages are common in revision control systems; they allow developers to maintain systems that are too
	large or too old by reducing the need to grasp the entirety of the system at once.</span>
</p>
<p class="c3"><span class="c1"></span></p>
<p class="c24 c5"><span class="c1">
	Mercurial assists collaboration by allowing concurrent edits. &nbsp;When several people simultaneously change a set of files, their
	changes need to be merged into a final version. &nbsp;Revision control systems such as mercurial assist the user by largely automating
	this process: if only one author changes a file, his version simply replaces the old one. &nbsp;When multiple authors change a file in
	a format mercurial understand (such as plain text), changes to non-overlapping regions are automatically merged. &nbsp;Finally, where
	changes do conflict, they are reported, and the user can systematically compare the changes to resolve the conflict. &nbsp;Automatic
	merging and conflict detection helps allow multiple developers work on the same project by avoiding the friction of each developer
	keeping abreast of all changes.</span></p><p class="c3"><span class="c1"></span></p><p class="c24 c5"><span class="c1">Mercurial
	allows distributed development teams by allowing any developer to pull others&rsquo; changes or push his own to an external repository.
	&nbsp;Crucially, there is no technical need for a central repository nor for &ldquo;one true&rdquo; history, allowing for truly
	distributed development. &nbsp;In particular, each committed changeset is uniquely identifiable, allowing mercurial to avoid applying
	changes it has already seen, even if those changes depend on each other in non-trivial ways. &nbsp;Mercurial&rsquo;s logged history is
	conceptually a directed acyclic graph. &nbsp;Thus when two versions are merged that (partially) share the same history, the shared part
	of the history is not duplicated.</span></p><p class="c3"><span class="c1"></span></p><p class="c24 c5"><span class="c1">These three
	features enable many useful scenarios. &nbsp;For instance, in a large system, development mistakes are made. &nbsp; &nbsp;Since it
	maintains a history of changes and the details of each changes, mercurial can revert a particular change e.g. to correct a mistake.
	&nbsp;Unlike a strictly linear process, such a reverted change does not require the user to redo all subsequent changes; instead, the
	reverted change is itself a new changeset that can be merged anywhere into the version history.</span>
</p>
<p class="c3"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>
<p class="c5"><img height="230" src="images/image00.png" width="302"></p>
<p class="c3"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>
<p class="c5"><span class="c1">Business model: System context, Architectural relevant business parameters.</span></p>
<p class="c5"><span class="c1">Show system context and OSS community.</span></p>

<!-- Chapter 3 - Stakeholders and concerns -->
<hr style="page-break-before:always;display:none;">
<p class="c3"><span class="c1"></span></p>
<h1 class="c5"><a name="h.qjh2p25pcmtr"></a><span>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stakeholders and concerns (10%)</span></h1>
<h2 class="c5"><a name="h.qqxhese4rr1e"></a><span>3.1 Stakeholders and concerns</span></h2>
<p class="c5">
	<span class="c4 c1">End user - </span>
	<span class="c1">The end user (software developer) can be a large team of people as well as one person.</span>
</p>
<p class="c5">
	<span class="c4 c1">Mercurial management - </span>
</p>
<p class="c5">
	<span class="c4 c1">Mercurial software developer - </span>
	<span class="c1">There is currently one full-time developer working on Mercurial</span>
</p>
<p class="c5">
	<span class="c4 c1">Patch/extension developer - </span>
	<span class="c1">Mercurial welcomes patches and extensions from any software developer.</span>
</p>
<p class="c3"><span class="c1"></span></p>
<p class="c3"><span class="c1"></span></p>
	<table cellpadding="0" cellspacing="0" class="c25">
		<tbody>
			<tr>
				<td class="c32"><p class="c14 c11 c5"><span class="c4 c1">Stakeholder</span></p></td>
				<td class="c17"><p class="c14 c11 c5"><span class="c4 c1">Concerns</span></p></td>
				<td class="c7"><p class="c14 c11 c5"><span class="c4 c1">Concern priority</span></p></td>
				<td class="c15"><p class="c14 c11 c5"><span class="c4 c1">Stakeholder priority</span></p></td>
			</tr>
			<tr>
				<td class="c32"><p class="c11 c5"><span class="c1">End user</span></p></td>
				<td class="c17"><p class="c11 c5">
					<span class="c4 c1">Reliability:</span>
						<span class="c1">&nbsp;The system should be stable and reliable to use for projects</span></p>
					<p class="c11 c5"><span class="c4 c1">Adaptability:</span>
						<span class="c1">&nbsp;The system should adapt to a users needs in terms of extensions needed</span></p>
					<p class="c11 c5"><span class="c4 c1">Dependability:</span>
						<span class="c1">&nbsp;Revisions should be accurate and easily exchanged</span></p>
					<p class="c11 c5"><span class="c1 c4">-ablity: </span>
						<span class="c1">Data should not be lost in case of a breakdown in the system</span></p>
					<p class="c11 c5"><span class="c4 c1">Scalability:</span>
						<span class="c1">&nbsp;They system should be able to handle large amounts of new data being submitted to
							the system at a particular time</span></p>
					<p class="c11 c5"><span class="c4 c1">Usability:</span>
						<span class="c1">&nbsp;The system should be easy to use</span></p>
					<p class="c11 c5"><span class="c4 c1">Learnability:</span>
						<span class="c1">&nbsp;The system should be easy to learn, not take more than a couple of days of using
							to get well accustom to it</span></p>
					<p class="c11 c5"><span class="c4 c1">Supportablity:</span>
						<span class="c1">&nbsp;The system should come with user support</span></p>
					<p class="c11 c5"><span class="c4 c1">-ability:</span>
						<span class="c1">&nbsp;The system should be </span><span class="c27 c1">perfectly suitable for large projects,
							for that it has to work really fast.</span></p>
					<p class="c3 c11"><span class="c1"></span></p>
				</td>
				<td class="c7"><p class="c3 c11"><span class="c1"></span></p></td>
				<td class="c15"><p class="c3 c11"><span class="c1"></span></p></td>
			</tr>
			<tr>
				<td class="c32"><p class="c11 c5"><span class="c1">Mercurial management</span></p></td>
				<td class="c17"><p class="c5">
					<span class="c4 c1">Changeability: </span>
						<span class="c1">The application server should be easy changeable to adapt to the specific needs for the
							application which is run on top of it.</span></p>
					<p class="c11 c5"><span class="c4 c1">Adaptability:</span>
						<span class="c1">&nbsp;The system should easily integrate in various environments</span></p>
					<p class="c3 c11"><span class="c1"></span></p>
				</td>
				<td class="c7"><p class="c3 c11"><span class="c1"></span></p></td><td class="c15"><p class="c3 c11"><span class="c1"></span></p></td>
			</tr>
			<tr>
				<td class="c32"><p class="c11 c5"><span class="c1">Mercurial software developer</span></p></td>
				<td class="c17"><p class="c11 c5">
					<span class="c4 c1">Usability:</span>
						<span class="c1">&nbsp;The code should be well documented</span></p>
					<p class="c11 c5"><span class="c1 c2">Efficiency</span>
						<span class="c1 c27">:</span><span class="c1">&nbsp;For effective work of the system WAN bandwidth and disk seek
							rate &nbsp;should be optimized for the system. </span></p>
				</td>
				<td class="c7"><p class="c3 c11"><span class="c1"></span></p></td>
				<td class="c15"><p class="c3 c11"><span class="c1"></span></p></td>
			</tr>
			<tr>
				<td class="c32"><p class="c11 c5"><span class="c1">Patch/ extension developers</span></p></td>
				<td class="c17"><p class="c11 c5"><span class="c4 c1">Usability:</span>
					<span class="c1">&nbsp;The code should be well documented</span></p></td>
				<td class="c7"><p class="c3 c11"><span class="c1"></span></p></td>
				<td class="c15"><p class="c3 c11"><span class="c1"></span></p></td>
			</tr>
		</tbody>
	</table>
	<p class="c3"><span class="c1"></span></p>
	<h2 class="c5"><a name="h.vl37tjltoc1"></a><span>3.2 Key drivers</span></h2>
	<p class="c3"><span class="c1"></span></p>
	<p class="c5"><span class="c4 c1">Usability: </span>
		<span class="c1">The whole system should be as simple as possible to get start to work on it</span></p><p class="c3"><span class="c4 c1"></span></p>
	<p class="c5"><span class="c4 c1">Scalability/Extensibility: </span>
		<span class="c1">&nbsp;The system repository should &nbsp;be extensible to store entire data</span></p><p class="c3"><span class="c4 c1"></span></p>
	<p class="c5"><span class="c4 c1">Changeability: </span>
		<span class="c1">The application server should be easy changeable to adapt to the specific needs for the application which is run on top of it.</span>
	</p>
	<p class="c3"><span class="c4 c1"></span></p><p class="c3"><span></span></p>

<!-- Chapter 4 - Architecture -->
<hr style="page-break-before:always;display:none;"><h1 class="c5 c21"><a name="h.4b1mnj23unk2"></a></h1>
<h1 class="c5"><a name="h.malaemb4pn9g"></a>
	<span>4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		Architecture&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(30%)</span></h1>
<p class="c5"><span class="c1">Show the individual patterns, their variants and how they integrate in the entire architecture; show at most 2 views.</span></p>
<h2 class="c5"><a name="h.fen3coaqu5pf"></a><span>4.1 Architectural views</span></h2><p class="c3"><span class="c1"></span></p>
<h2 class="c5"><a name="h.lp6j3uwaomp5"></a><span>4.2 Architectural patterns</span></h2>
<h3 class="c5"><a name="h.jqknav8ruqdm"></a><span>4.2.1 Peer-to-peer</span></h3>
<h3 class="c5"><a name="h.rinqs16kvpkf"></a><span>4.2.2 Shared repository</span></h3>
	<p class="c5"><img height="200" src="images/image01.png" width="571"></p>
<h3 class="c5"><a name="h.c65rnjokzp4j"></a><span>4.2.3 Pipes and filters</span></h3>
<h3 class="c5"><a name="h.cdcmefdxm46z"></a><span class="c4 c26">4.2.</span><span>4</span><span class="c4 c26">&nbsp;Client server</span></h3>
<h3 class="c5"><a name="h.dtdyc3yxqcdh"></a><span class="c4 c26">4.2.5 Broker</span></h3>
<h2 class="c5"><a name="h.efa1ocu57i4x"></a><span>4.3 Decomposition, component responsibilities &amp; interfaces</span></h2>
<p class="c3"><span class="c1"></span></p><hr style="page-break-before:always;display:none;"><p class="c3"><span class="c1"></span></p>
<h1 class="c5"><a name="h.vqpyxuxpouct"></a>
	<span>5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluation &amp; recommendations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(35%)</span></h1>
	<p class="c5"><span class="c1">Follow PBAR to evaluate the quality attributes based on the patterns.</span></p>
	<p class="c5"><span class="c1">Emphasize on recommendations on how to improve the system.</span></p>


<hr style="page-break-before:always;display:none;"><p class="c3"><span class="c1"></span></p>
	<div><p class="c3 c9 c31"><span></span></p></div>
	<div class="c23"><p class="c11 c5">
		<a href="#cmnt_ref1" name="cmnt1">[a]</a><span>eamon.nerbonne:</span></p>
		<p class="c11 c5"><span>http://hgbook.red-bean.com/read/how-did-we-get-here.html</span></p><hr>
		<p class="c11 c5"><span>eamon.nerbonne:</span></p>
		<p class="c11 c5"><span>http://hginit.com/</span></p><hr>
		<p class="c11 c5"><span>eamon.nerbonne:</span></p>
		<p class="c11 c5"><span>http://mercurial.selenic.com/guide/</span></p><hr>
		<p class="c11 c5"><span>eamon.nerbonne:</span></p>
		<p class="c11 c5"><span>http://mercurial.selenic.com/wiki/</span></p>
	</div>
</body>
</html>